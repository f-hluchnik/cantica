<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Liturgical Songs</title>
</head>
<body>
    <h1>Liturgical Songs for {{ date }}</h1>

    {% if feast_songs %}
        {% for item in feast_songs %}
            <h2>{{ item.feast.name }}</h2>
            <p>Degree: {{ item.feast.degrees }}</p>
            <p>Colour: {{ item.feast.colour }}</p>
            <p>Types: {{ item.feast.types.all|join:", " }}</p>

            {% if item.specific_songs %}
                <h3>Specific Songs:</h3>
                <ul>
                    {% for song in item.specific_songs %}
                        <li>{{ song.title }} (No. {{ song.number }})</li>
                    {% empty %}
                        <li>No specific songs available.</li>
                    {% endfor %}
                </ul>
            {% elif item.type_songs %}
                <h3>Songs by Feast Type:</h3>
                <ul>
                    {% for song in item.type_songs %}
                        <li>{{ song.title }} (No. {{ song.number }})</li>
                    {% empty %}
                        <li>No type-based songs available.</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No specific song recommendations. Feel free to choose songs from the {{ item.feast.colour }} section.</p>
            {% endif %}
        {% endfor %}
    {% else %}
        <p>No feasts today. You can play any song from the 500 section.</p>
        <h2>Default Songs for {{ default_songs.0.liturgical_season|capfirst }}</h2>
        <ul>
            {% for song in default_songs %}
                <li>{{ song.title }} (No. {{ song.number }})</li>
            {% empty %}
                <li>No default songs available.</li>
            {% endfor %}
        </ul>
    {% endif %}
</body>
</html>
